layout {
    default_tab_template {
        children
        pane size=1 borderless=true {
            plugin location="zellij:compact-bar"
        }
    }

    tab name="Antigravity" focus=true {
        pane split_direction="vertical" {
            
            // --- LEFT COLUMN (Stacked Tools) ---
            pane split_direction="horizontal" size="20%" {
                
                // Top Left: Distrobox Terminal
                pane name="Terminal" command="/home/linuxbrew/.linuxbrew/bin/distrobox" {
                    args "enter" "dev"
                }

                // Bottom Left: Lazygit
                pane name="Git" command="/home/linuxbrew/.linuxbrew/bin/lazygit"
            }

            // --- MIDDLE COLUMN (Editor) ---
            pane size="45%" focus=true name="Editor"

            // --- RIGHT COLUMN (Gemini AI) ---
            pane size="35%" name="Gemini" command="/home/linuxbrew/.linuxbrew/bin/distrobox" {
                args "enter" "dev" "--" "gemini" 
                close_on_exit false
            }
        }
    }
}
