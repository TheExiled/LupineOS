layout {
    default_tab_template {
        children
        pane size=1 borderless=true {
            plugin location="zellij:compact-bar"
        }
    }

    tab name="Rust" focus=true {
        pane split_direction="vertical" {
            
            // --- PANE 1: Gemini CLI (Far Left) ---
            pane size="35%" name="Gemini" command="/home/linuxbrew/.linuxbrew/bin/distrobox" {
                args "enter" "dev" "--" "gemini" 
                close_on_exit false
            }

            // --- PANE 2: Editor (Middle) ---
            pane size="35%" focus=true name="Editor"

            // --- RIGHT COLUMN ---
            pane split_direction="horizontal" {
                
                // PANE 3: Runner
                pane name="Cargo Runner" command="/home/linuxbrew/.linuxbrew/bin/distrobox" {
                    args "enter" "dev"
                }

                // PANE 4: Git
                pane name="Git" command="/home/linuxbrew/.linuxbrew/bin/lazygit"
            }
        }
    }
}
